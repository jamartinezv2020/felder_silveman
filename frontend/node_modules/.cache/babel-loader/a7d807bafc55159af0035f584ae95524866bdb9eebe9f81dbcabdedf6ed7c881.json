{"ast":null,"code":"var _jsxFileName = \"C:\\\\felder_silveman\\\\frontend\\\\src\\\\components\\\\DashboardMetrics\\\\TeacMetrics.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, Grid, Paper, DatePicker } from '@mui/material';\nimport { Line } from 'react-chartjs-2';\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip as ChartTooltip, Legend, Filler } from 'chart.js';\nimport { LocalizationProvider, AdapterDateFns } from '@mui/x-date-pickers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, ChartTooltip, Legend, Filler);\nconst TeacMetrics = () => {\n  _s();\n  const [userStats, setUserStats] = useState(null);\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n  useEffect(() => {\n    if (startDate && endDate) {\n      const fetchData = async () => {\n        try {\n          const response = await axios.get(`http://localhost:5000/api/users/metrics/daily`, {\n            params: {\n              start: startDate.toISOString(),\n              end: endDate.toISOString()\n            }\n          });\n          setUserStats(response.data);\n        } catch (error) {\n          console.error('Error al obtener datos', error);\n          setUserStats({\n            error: 'Error al cargar los datos'\n          });\n        }\n      };\n      fetchData();\n    }\n  }, [startDate, endDate]);\n  if (userStats && userStats.error) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      children: userStats.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }, this);\n  }\n  if (!userStats) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      children: \"Cargando datos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }, this);\n  }\n  const labels = userStats.dates || [];\n  const values = userStats.values || [];\n  const lineChartData = {\n    labels: labels,\n    datasets: [{\n      label: 'Número de Usuarios Nuevos',\n      data: values,\n      borderColor: '#4CAF50',\n      backgroundColor: 'rgba(76, 175, 80, 0.2)',\n      fill: true\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1,\n      p: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      align: \"center\",\n      children: \"M\\xE9tricas del Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3,\n        display: 'flex',\n        justifyContent: 'center',\n        gap: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n        dateAdapter: AdapterDateFns,\n        children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n          label: \"Fecha de Inicio\",\n          value: startDate,\n          onChange: date => setStartDate(date),\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            ...params,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n          label: \"Fecha de Fin\",\n          value: endDate,\n          onChange: date => setEndDate(date),\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            ...params,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 10,\n        lg: 8,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            align: \"center\",\n            children: \"Usuarios Nuevos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'relative',\n              height: '400px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: lineChartData,\n              options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                  x: {\n                    beginAtZero: true\n                  },\n                  y: {\n                    beginAtZero: true\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(TeacMetrics, \"qPCwVnxJC9i4BJgpM8/+DR4cZKs=\");\n_c = TeacMetrics;\nexport default TeacMetrics;\nvar _c;\n$RefreshReg$(_c, \"TeacMetrics\");","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Grid","Paper","DatePicker","Line","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","ChartTooltip","Legend","Filler","LocalizationProvider","AdapterDateFns","jsxDEV","_jsxDEV","register","TeacMetrics","_s","userStats","setUserStats","startDate","setStartDate","endDate","setEndDate","fetchData","response","get","params","start","toISOString","end","data","error","console","variant","align","children","fileName","_jsxFileName","lineNumber","columnNumber","labels","dates","values","lineChartData","datasets","label","borderColor","backgroundColor","fill","sx","flexGrow","p","gutterBottom","mb","display","justifyContent","gap","dateAdapter","value","onChange","date","renderInput","TextField","fullWidth","container","spacing","alignItems","item","xs","md","lg","elevation","position","height","options","responsive","maintainAspectRatio","scales","x","beginAtZero","y","_c","$RefreshReg$"],"sources":["C:/felder_silveman/frontend/src/components/DashboardMetrics/TeacMetrics.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Box, Typography, Grid, Paper, FormControl, InputLabel, Select, MenuItem, DatePicker } from '@mui/material';\r\nimport { Line } from 'react-chartjs-2';\r\nimport axios from 'axios';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip as ChartTooltip, Legend, Filler } from 'chart.js';\r\nimport { LocalizationProvider, AdapterDateFns } from '@mui/x-date-pickers';\r\n\r\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, ChartTooltip, Legend, Filler);\r\n\r\nconst TeacMetrics: React.FC = () => {\r\n  const [userStats, setUserStats] = useState<any>(null);\r\n  const [startDate, setStartDate] = useState<Date | null>(null);\r\n  const [endDate, setEndDate] = useState<Date | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (startDate && endDate) {\r\n      const fetchData = async () => {\r\n        try {\r\n          const response = await axios.get(`http://localhost:5000/api/users/metrics/daily`, {\r\n            params: {\r\n              start: startDate.toISOString(),\r\n              end: endDate.toISOString()\r\n            }\r\n          });\r\n          setUserStats(response.data);\r\n        } catch (error) {\r\n          console.error('Error al obtener datos', error);\r\n          setUserStats({ error: 'Error al cargar los datos' });\r\n        }\r\n      };\r\n\r\n      fetchData();\r\n    }\r\n  }, [startDate, endDate]);\r\n\r\n  if (userStats && userStats.error) {\r\n    return <Typography variant=\"h6\" align=\"center\">{userStats.error}</Typography>;\r\n  }\r\n\r\n  if (!userStats) {\r\n    return <Typography variant=\"h6\" align=\"center\">Cargando datos...</Typography>;\r\n  }\r\n\r\n  const labels = userStats.dates || [];\r\n  const values = userStats.values || [];\r\n\r\n  const lineChartData = {\r\n    labels: labels,\r\n    datasets: [\r\n      {\r\n        label: 'Número de Usuarios Nuevos',\r\n        data: values,\r\n        borderColor: '#4CAF50',\r\n        backgroundColor: 'rgba(76, 175, 80, 0.2)',\r\n        fill: true\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ flexGrow: 1, p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom align=\"center\">\r\n        Métricas del Dashboard\r\n      </Typography>\r\n      <Box sx={{ mb: 3, display: 'flex', justifyContent: 'center', gap: 2 }}>\r\n        <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n          <DatePicker\r\n            label=\"Fecha de Inicio\"\r\n            value={startDate}\r\n            onChange={(date) => setStartDate(date)}\r\n            renderInput={(params) => <TextField {...params} fullWidth />}\r\n          />\r\n          <DatePicker\r\n            label=\"Fecha de Fin\"\r\n            value={endDate}\r\n            onChange={(date) => setEndDate(date)}\r\n            renderInput={(params) => <TextField {...params} fullWidth />}\r\n          />\r\n        </LocalizationProvider>\r\n      </Box>\r\n      <Grid container spacing={3} justifyContent=\"center\" alignItems=\"center\">\r\n        <Grid item xs={12} md={10} lg={8}>\r\n          <Paper elevation={3} sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom align=\"center\">\r\n              Usuarios Nuevos\r\n            </Typography>\r\n            <Box sx={{ position: 'relative', height: '400px' }}>\r\n              <Line \r\n                data={lineChartData} \r\n                options={{\r\n                  responsive: true,\r\n                  maintainAspectRatio: false,\r\n                  scales: {\r\n                    x: {\r\n                      beginAtZero: true,\r\n                    },\r\n                    y: {\r\n                      beginAtZero: true,\r\n                    }\r\n                  }\r\n                }}\r\n              />\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TeacMetrics;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}